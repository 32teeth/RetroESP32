#!/bin/zsh

SRC_PATH=`pwd`

#---------------------------------
# EDIT PATHS FOR ESP AND IDF
#---------------------------------
export PATH="$PATH:$HOME/esp/xtensa-esp32-elf/bin"

#---------------------------------
# DON'T TOUCH START
#---------------------------------
REPO=$(dirname $PWD)
COMPONENTS="$REPO/Components"
LAUNCHERS="$REPO/Launchers"
EMULATORS="$REPO/Emulators"
ODROID="$REPO/Odroid"

#---------------------------------
# Styles
#---------------------------------
source helpers/styles


echo "\n--------------------------------------------------------------------------"
echo "\n${game}  ${white}LCD Screen Driver Option"
echo "\nThis will add a ${white}Kconfig.projbuild${nc} for the TFT Display"
echo "\nRunning ${magenta}'make menuconfig'${nc}  will provide you option to set:"
echo "\n${cyanbg} ${white}LCD Screen Driver                                          ${nc}"
echo "\n\t${white}1.${nc} Odroid Go Default (ILI9341) [2.4\"] ${bluebg}  default  ${nc}"
echo "\n\t${white}2.${nc} Retro ESP32 (ILI9342) [2.6\"]"
echo "\n${cyanbg} ${white}Menu Hot Keys                                              ${nc}"
echo "\n\t${white}1.${nc} Default Odroid Go MENU Button ${bluebg}  default  ${nc}"
echo "\n\t${white}2.${nc} Use START + SELECT buttons for MENU"
echo "\n ${nc}${green}Add Option?${nc} [y/${white}N${nc}]"
echo "\n--------------------------------------------------------------------------"

read -rs -k 1 response
if [[ "$response" = "y" ]]
then
  clear
  echo "\n--------------------------------------------------------------------------"
  echo "\n${squid}  ${green}Replacing ${cyan}odroid-go-firmware${nc} files"
  echo "\n--------------------------------------------------------------------------"
  cp -R $COMPONENTS/odroid-go-firmware/main/* $ODROID/odroid-go-firmware/main
  sleep 0.25

  clear
  echo "\n--------------------------------------------------------------------------"
  echo "\n${robot}  ${green}Replacing ${cyan}go-play${nc} files"
  echo "\n--------------------------------------------------------------------------"
  cp -R $COMPONENTS/go-play/* $EMULATORS/go-play
  sleep 0.25  
  clear
  echo "\n--------------------------------------------------------------------------"
  echo "\n${fox}  ${green}Replacing ${cyan}handy-go${nc} files"
  echo "\n--------------------------------------------------------------------------"  
  cp -R $COMPONENTS/handy-go/* $EMULATORS/handy-go
  sleep 0.25
  clear  
  echo "\n--------------------------------------------------------------------------"
  echo "\n${fox}  ${green}Replacing ${cyan}frodo-go${nc} files"
  echo "\n--------------------------------------------------------------------------"  
  cp -R $COMPONENTS/frodo-go/* $EMULATORS/frodo-go
  sleep 0.25
  clear
  echo "\n--------------------------------------------------------------------------"
  echo "\n${lion}  ${green}Replacing ${cyan}prosystem-odroid-go${nc} files"
  echo "\n--------------------------------------------------------------------------"  
  cp -R $COMPONENTS/prosystem-odroid-go/* $EMULATORS/prosystem-odroid-go
  sleep 0.25
  clear
  echo "\n--------------------------------------------------------------------------"
  echo "\n${monkey}  ${green}Replacing ${cyan}stella-odroid-go${nc} files"
  echo "\n--------------------------------------------------------------------------"  
  cp -R $COMPONENTS/stella-odroid-go/* $EMULATORS/stella-odroid-go
  sleep 0.25
  clear
  echo "\n--------------------------------------------------------------------------"
  echo "\n${panda}  ${green}Replacing ${cyan}emulator-launcher-odroid-go${nc} files"
  echo "\n--------------------------------------------------------------------------"
  cp -R $COMPONENTS/emulator-launcher-odroid-go/* $LAUNCHERS/emulator-launcher-odroid-go
  sleep 0.25
  clear
  echo "\n--------------------------------------------------------------------------"
  echo "\n${whale}  ${green}Replacing ${cyan}gogo${nc} files"
  echo "\n--------------------------------------------------------------------------"
  cp -R $COMPONENTS/gogo/* $LAUNCHERS/gogo
  sleep 0.25  
fi

#---------------------------------
# Goodbye
#---------------------------------
source helpers/goodbye
